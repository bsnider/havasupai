import{e as a,dk as s,cQ as p,ap as l,c as o,av as g,r,m as h,d}from"./index-CA3J3HgS.js";import{w as n}from"./ImageHighlightHelper3D-BXzUl-43.js";import{P as u}from"./MapServiceLayerViewHelper-OnEj067e.js";import{r as c}from"./drapedUtils-BzfEHRHA.js";let t=class extends a{constructor(e){super(e)}initialize(){this._highlightHelper=new n({layer:this.layerView.layer,view:this.view,updatingHandles:this.updatingHandles}),this._mapServiceLayerViewHelper=new u({createFetchPopupFeaturesQueryGeometry:(e,i)=>c(e,i,this.view),layerView:this.layerView,updatingHandles:this.updatingHandles,highlightGraphics:this._highlightHelper.graphics,highlightGraphicUpdated:e=>{var i;return(i=this._highlightHelper.graphicsView)==null?void 0:i.graphicChanged(e)}}),this.addHandles([s(this._mapServiceLayerViewHelper),p((()=>{var e;return(e=this.view)==null?void 0:e.stationary}),(()=>this._mapServiceLayerViewHelper.updateHighlightedFeatures(this.view.resolution)),o),l((()=>this.layerView.suspended),(e=>this._highlightHelper.suspended=e),g)])}fetchPopupFeaturesAtLocation(e,i){return this._highlightHelper.preload(),this._mapServiceLayerViewHelper.fetchPopupFeaturesAtLocation(e,i)}highlight(e,i){return this._highlightHelper.highlight(e,i)}};r([h()],t.prototype,"view",void 0),r([h()],t.prototype,"layerView",void 0),r([h()],t.prototype,"updatingHandles",void 0),t=r([d("esri.views.3d.layers.support.SublayerPopupHighlightHelper3D")],t);export{t as d};
