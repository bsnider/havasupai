import{J as F,L as O,g as C,w2 as Xe,i as de,j as G,k as b,w3 as te,l as Se,p as Ce,w4 as ge,w5 as ve,q as he,t as ze,v as Re,w6 as Me,w7 as Ee,x as Je,z as l,G as d,jB as N,y as Fe,jy as v,w8 as Oe,A as x,I as ue,B as Pe,H as Te,w9 as Ve,C as Qe,K as P,wa as k,wb as He,w as ae,wc as Ze,ku as me,wd as et,jx as tt,we as Be,wf as at,wg as it,ko as be,jQ as nt,wh as st,kq as rt,kt as B,kr as ct,jR as lt,wi as ot,wj as dt,wk as ht,ks as ut,wl as De,kw as ye}from"./index-CxDa6KP7.js";import"./index-BaaFYHew.js";import"./index-DrosACZA.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const I={loader:"loader",clearable:"clearable",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper"},xe={validationMessage:"inputTextValidationMessage"},pt={action:"action"},ft=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-width:1px;border-style:solid;font-family:inherit;font-weight:var(--calcite-font-weight-normal);background-color:var(--calcite-input-text-background-color, var(--calcite-color-foreground-1));color:var(--calcite-input-text-text-color, var(--calcite-color-text-1));border-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));text-align:var(--calcite-internal-input-text-alignment)}input:placeholder-shown{text-overflow:ellipsis}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-number-placeholder-text-color, var(--calcite-color-text-3))}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}input[readonly]{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-input-text-background-color, var(--calcite-color-background))}input[readonly]:focus{color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}calcite-icon{color:var(--calcite-input-action-icon-color, var(--calcite-color-text-3))}input{outline-color:transparent}input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-status-danger);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center;isolation:isolate}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-text-icon-color, var(--calcite-color-text-3))}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;outline-color:transparent;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-action-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.clear-button:hover{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-input-action-background-color-hover, var(--calcite-color-foreground-2))}.clear-button:hover calcite-icon{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-action-icon-color-hover, var(--calcite-color-text-1))}.clear-button:active{background-color:var(--calcite-input-action-background-color-press, var(--calcite-color-foreground-3))}.clear-button:active calcite-icon{color:var(--calcite-input-action-icon-color-press, --calcite-color-text-1)}.clear-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.loader calcite-progress{--calcite-progress-background-color: var(--calcite-input-loading-background-color);--calcite-progress-fill-color: var(--calcite-input-loading-fill-color)}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-medium);line-height:1;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input))}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size-x, auto);background-color:var(--calcite-input-prefix-background-color, var(--calcite-color-background));color:var(--calcite-input-prefix-text-color, var(--calcite-color-text-2));border-start-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size-x, auto);background-color:var(--calcite-input-suffix-background-color, var(--calcite-color-background));color:var(--calcite-input-suffix-text-color, var(--calcite-color-text-2));border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([prefix-text]:not([prefix-text=""])) input{border-start-start-radius:0;border-end-start-radius:0}:host([suffix-text]:not([suffix-text=""])) input,:host .clearable input{border-start-end-radius:0;border-end-end-radius:0}:host(:not([suffix-text])) .clear-button,:host([suffix-text=""]) .clear-button{border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([alignment=start]){--calcite-internal-input-text-alignment: start}:host([alignment=center]){--calcite-internal-input-text-alignment: center}:host([alignment=end]){--calcite-internal-input-text-alignment: end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`,U=class U extends O{constructor(){super(),this.actionWrapperRef=C(),this.attributeWatch=Xe(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.childRef=C(),this.inputWrapperRef=C(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=de(),this.focusSetter=G()(this),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=b(),this.calciteInputTextInput=b(),this.calciteInternalInputTextBlur=b(),this.calciteInternalInputTextFocus=b(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueWatcher(e,t))}async selectText(){var e;(e=this.childRef.value)==null||e.select()}async setFocus(e){return this.focusSetter(()=>this.childRef.value,e)}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),Se(this),Ce(this),this.el.addEventListener(ge,this.onHiddenFormInputInput)}async load(){this.requestedIcon=ve({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(e){e.has("icon")&&(this.requestedIcon=ve({},this.icon,"text"))}updated(){he(this)}disconnectedCallback(){super.disconnectedCallback(),ze(this),Re(this),this.el.removeEventListener(ge,this.onHiddenFormInputInput)}get isClearable(){return this.clearable&&this.value.length>0}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,t){this.userChangedValue||this.setValue({origin:"direct",previousValue:t,value:e||""}),this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&e.key==="Escape"&&(this.clearInputTextValue(e),e.preventDefault()),e.key==="Enter"&&Me(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childRef.value,value:this.value}),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const t=e.composedPath();!t.includes(this.inputWrapperRef.value)||t.includes(this.actionWrapperRef.value)||this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childRef.value,value:this.value})}inputTextInputHandler(e){this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})}inputTextKeyDownHandler(e){this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()}syncHiddenFormInput(e){Ee("text",this,e)}setInputValue(e){this.childRef.value&&(this.childRef.value.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=e}setPreviousValue(e){this.previousValue=e}setValue({committing:e=!1,nativeEvent:t,origin:a,previousValue:i,value:n}){this.setPreviousValue(i??this.value),this.previousValueOrigin=a,this.userChangedValue=a==="user"&&n!==this.value,this.value=n,a==="direct"&&(this.setInputValue(n),this.setPreviousEmittedValue(n)),t&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:e&&this.emitChangeIfUserModified())}render(){const e=Je(this.el),t=d`<div class=${l(I.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,a=d`<button .ariaLabel=${this.messages.clear} class=${l(I.clearButton)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${N(this.scale)}></calcite-icon></button>`,i=d`<calcite-icon class=${l(I.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${N(this.scale)}></calcite-icon>`,n=d`<div class=${l(I.prefix)}>${this.prefixText}</div>`,s=d`<div class=${l(I.suffix)}>${this.suffixText}</div>`,c=d`<input aria-errormessage=${xe.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${Fe(this)} autocomplete=${this.autocomplete??v} .autofocus=${this.el.autofocus} class=${l({[I.editingEnabled]:this.editingEnabled,[I.inlineChild]:!!this.inlineEditableEl})} value=${this.defaultValue??v} .disabled=${this.disabled?!0:null} enterkeyhint=${this.el.enterKeyHint??v} inputmode=${this.el.inputMode??v} maxlength=${this.maxLength??v} minlength=${this.minLength??v} name=${this.name??v} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??v} placeholder=${(this.placeholder||"")??v} .readOnly=${this.readOnly} .required=${this.required?!0:null} spellcheck=${this.el.spellcheck??v} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??v} type=text .value=${Oe(this.value??"")} ${x(this.childRef)}>`;return ue({disabled:this.disabled,children:d`${this.labelText&&Pe({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${l({[I.inputWrapper]:!0,[Qe.rtl]:e==="rtl",[I.clearable]:this.isClearable})} ${x(this.inputWrapperRef)}>${this.prefixText?n:null}<div class=${l(I.wrapper)}>${c}${this.isClearable?a:null}${this.requestedIcon?i:null}${this.loading?t:null}</div><div class=${l(I.actionWrapper)} ${x(this.actionWrapperRef)}><slot name=${pt.action}></slot></div>${this.suffixText?s:null}${Te({component:this})}</div>${this.validationMessage&&this.status==="invalid"?Ve({icon:this.validationIcon,id:xe.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}};U.properties={slottedActionElDisabledInternally:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{converter:te},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],label:1,labelText:1,loading:[7,{},{reflect:!0,type:Boolean}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],minLength:[11,{},{reflect:!0,type:Number}],name:[3,{},{reflect:!0}],pattern:1,placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],suffixText:1,validationIcon:[3,{converter:te},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1},U.styles=ft;let ie=U;P("calcite-input-text",ie);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */function z(r,e,t){if(!r)return;const a=r.getTime(),i=!(e instanceof Date)||a>=e.getTime(),n=!(t instanceof Date)||a<=t.getTime();return i&&n}function h(r,e,t){if(!(r instanceof Date))return null;const a=r.getTime(),i=e instanceof Date&&a<e.getTime(),n=t instanceof Date&&a>t.getTime();return i?e:n?t:r}function g(r,e=!1){if(r instanceof Date)return r;if(!r||typeof r!="string")return null;const t=r.split(/[: T-]/).map(parseFloat),a=new Date(t[0],(t[1]||1)-1,t[2]||1);if(a.setFullYear(t[0]),isNaN(a.getTime()))throw new Error(`Invalid ISO 8601 date: "${r}"`);return e?mt(a):a}function ke(r,e){if(!e)return null;const{separator:t}=e,a=vt(r,e),{day:i,month:n}=a,s=Ye(a.year,e),c=new Date(s,n,i);c.setFullYear(s);const o=i>0,u=n>-1,D=!isNaN(c.getTime()),p=r.split(t).filter(R=>R).length>2,w=s.toString().length>0;return o&&u&&D&&p&&w?c:null}function Ye(r,e){return Le(r,e,"read")}function gt(r,e){return Le(r,e,"write")}function Le(r,e,t){if(e["default-calendar"]!=="buddhist")return r;const i=543*(t==="read"?-1:1);return r+i}function We(r,e){const{separator:t,unitOrder:a}=e,i=Ue(a),n=r.split(t).map(u=>k.delocalize(u)),s=n[i.indexOf("d")],c=n[i.indexOf("m")],o=n[i.indexOf("y")];return{day:s,month:c,year:o}}function m(r){if(r instanceof Date){const e=String(r.getMonth()+1).padStart(2,"0"),t=String(r.getDate()).padStart(2,"0");return`${String(r.getFullYear()).padStart(4,"0")}-${e}-${t}`}return""}function Ne(r){const e=r.split("-");return{day:e[2],month:e[1],year:e[0]}}function y(r,e){return r instanceof Date&&e instanceof Date&&r.getDate()===e.getDate()&&r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()}function V(r){const e=r.getMonth(),t=new Date(r);return t.setMonth(e-1),e===t.getMonth()?new Date(r.getFullYear(),e,0):t}function we(r,e){const t=new Date(r);return t.setMonth(e),t}function ne(r,e,t){const a=new Date(r);return a.setDate(1),z(a,e,t)?a:h(a,e,t)}function S(r){const e=r.getMonth(),t=new Date(r);return t.setMonth(e+1),(e+2)%7===t.getMonth()%7?new Date(r.getFullYear(),e+2,0):t}function vt(r,e){const{day:t,month:a,year:i}=We(r,e);return{day:parseInt(t),month:parseInt(a)-1,year:parseInt(i)}}function Ue(r){const e=["d","m","y"],t=r.toLowerCase();return e.sort((a,i)=>t.indexOf(a)-t.indexOf(i))}function Y(r,e){const t=r.getTime(),a=e.getTime();return(t-a)/(1e3*3600*24)}function mt(r){return r.setHours(23,59,59,999),r}function M(r,e){return r&&e&&r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const bt=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;cursor:pointer;outline:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.day-wrapper{position:relative;display:flex;inline-size:100%;flex-direction:column;align-items:center;justify-content:center}.day{position:relative;display:flex;inline-size:100%;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1rem;line-height:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;line-height:var(--calcite-font-line-height-fixed-base);block-size:var(--calcite-internal-day-size);outline-color:var(--calcite-color-transparent);background-color:var(--calcite-date-picker-day-background-color);color:var(--calcite-date-picker-day-text-color, var(--calcite-color-text-1))}.text{margin-block:1px 0px;margin-inline-start:0px}:host([scale=s]){--calcite-internal-day-size: 32px}:host([scale=s]) .day{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-day-size: 40px}:host([scale=m]) .day{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-day-size: 44px}:host([scale=l]) .day{font-size:var(--calcite-font-size-0)}:host(:not([current-month])) .day{opacity:var(--calcite-opacity-full);color:var(--calcite-color-text-3)}:host(:focus:not([disabled]):not([selected]):not([current-month])) .day{color:var(--calcite-color-text-1)}:host(:hover:not([disabled]):not([selected])) .day{background-color:var(--calcite-date-picker-day-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-date-picker-day-text-color-hover, var(--calcite-color-text-1))}:host(:not([range]):not([selected]).current-day) .day{color:var(--calcite-date-picker-current-day-text-color, var(--calcite-color-brand));font-weight:var(--calcite-font-weight-bold)}:host(:focus[selected]) .day{z-index:var(--calcite-z-index);outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));box-shadow:0 0 0 2px var(--calcite-color-foreground-1)}:host(:focus:not([disabled]):not([selected])) .day{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:hover:not([disabled]):not([selected])) .day{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([selected]) .day{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-date-picker-day-background-color-selected, var(--calcite-color-brand));color:var(--calcite-date-picker-day-text-color-selected, var(--calcite-color-foreground-1))}:host([range-hover]:not([selected])) .day{background-color:var(--calcite-date-picker-day-outside-range-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-date-picker-day-outside-range-text-color-hover, var(--calcite-color-text-1))}:host([highlighted]:not([selected])) .day,:host(:hover[highlighted]:not([selected])) .day{color:var(--calcite-date-picker-day-range-text-color, var(--calcite-color-brand));background-color:var(--calcite-date-picker-day-range-background-color, var(--calcite-color-foreground-current))}:host([disabled]) .day{color:var(--calcite-color-text-2);text-decoration-line:line-through;opacity:var(--calcite-opacity-disabled)}@media (forced-colors: active){.day{border-radius:0}:host([selected]){outline:2px solid canvasText}:host(:hover:not([selected])) .day{border-radius:50%}:host([range][selected]) .day,:host([highlighted]) .day,:host([range-hover]:not([selected])) .day{background-color:highlight}:host([range-hover]) .day,:host([range][selected][start-of-range]) .day,:host([range][selected][end-of-range]) .day{background-color:canvas}}:host([hidden]){display:none}[hidden]{display:none}`,J={dayWrapper:"day-wrapper",day:"day",text:"text"},q=class q extends O{constructor(){super(),this.focusSetter=G()(this),this.active=!1,this.currentMonth=!1,this.disabled=!1,this.endOfRange=!1,this.highlighted=!1,this.range=!1,this.rangeHover=!1,this.selected=!1,this.startOfRange=!1,this.calciteInternalDayHover=b({cancelable:!1}),this.calciteInternalDaySelect=b({cancelable:!1}),this.listen("pointerover",this.pointerOverHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}async setFocus(e){return this.focusSetter(()=>this.el,e)}load(){this.parentDatePickerEl=He(this.el,"calcite-date-picker")}updated(){he(this)}onClick(){this.disabled||this.calciteInternalDaySelect.emit()}keyDownHandler(e){ae(e.key)&&(this.disabled||this.calciteInternalDaySelect.emit(),e.preventDefault())}pointerOverHandler(){this.disabled||this.calciteInternalDayHover.emit()}render(){const e=m(this.value).replaceAll("-","");if(this.parentDatePickerEl){const{numberingSystem:i,lang:n}=this.parentDatePickerEl;k.numberFormatOptions={useGrouping:!1,...i&&{numberingSystem:i},...n&&{locale:n}}}const t=k.localize(String(this.day)),a=this.dateTimeFormat.format(this.value);return this.el.ariaLabel=a,this.el.ariaSelected=Ze(this.active),me(this.el,"id",e),this.el.role="button",me(this.el,"tabIndex",this.active&&!this.disabled?0:-1),ue({disabled:this.disabled,children:d`<div aria-hidden=true class=${l(J.dayWrapper)}><span class=${l(J.day)}><span class=${l(J.text)}>${t}</span></span></div>`})}};q.properties={active:[7,{},{reflect:!0,type:Boolean}],currentMonth:[7,{},{reflect:!0,type:Boolean}],dateTimeFormat:[0,{},{attribute:!1}],day:[9,{},{type:Number}],disabled:[7,{},{reflect:!0,type:Boolean}],endOfRange:[7,{},{reflect:!0,type:Boolean}],highlighted:[7,{},{reflect:!0,type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],rangeEdge:[3,{},{reflect:!0}],rangeHover:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],startOfRange:[7,{},{reflect:!0,type:Boolean}],value:[0,{},{attribute:!1}]},q.styles=bt;let se=q;P("calcite-date-picker-day",se);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const Dt="2px",yt="0.25rem",xt="0.5rem";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const kt=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block}.header{display:flex;block-size:100%;align-items:center;justify-content:space-between}.chevron-container{display:flex;align-items:center}:host([scale=s]){block-size:24px;margin:var(--calcite-spacing-xs);margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .chevron-container,:host([scale=s]) .chevron{min-inline-size:24px;block-size:24px}:host([scale=m]){block-size:32px;margin:var(--calcite-spacing-sm);margin-inline-start:var(--calcite-spacing-sm-plus)}:host([scale=m]) .chevron-container,:host([scale=m]) .chevron{min-inline-size:32px;block-size:32px;--calcite-internal-action-padding-block: var(--calcite-spacing-xxs)}:host([scale=l]){block-size:44px;margin:var(--calcite-spacing-xs);margin-inline-start:var(--calcite-spacing-sm)}:host([scale=l]) .chevron-container,:host([scale=l]) .chevron{min-inline-size:44px;block-size:44px;--calcite-internal-action-padding-block: var(--calcite-spacing-sm-plus)}.chevron{box-sizing:content-box;display:flex;block-size:100%;inline-size:100%;flex-grow:0;cursor:pointer;align-items:center;justify-content:center;border-style:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;--calcite-internal-action-padding-block: 0;--calcite-action-background-color: var(--calcite-date-picker-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-date-picker-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-date-picker-header-action-background-color-press);--calcite-action-text-color: var(--calcite-date-picker-header-action-text-color);--calcite-action-text-color-press: var(--calcite-date-picker-header-action-text-color-press)}.chevron:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.chevron[aria-disabled=true]{pointer-events:none}.month-year-container{display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;align-items:center;justify-content:flex-start;text-align:center;line-height:1;gap:var(--calcite-spacing-xxs)}.month-year-container.range-calendar{justify-content:center}.year-container{position:relative;display:flex;block-size:100%}.suffix{display:flex;align-items:center}.year,.suffix{margin-inline:var(--calcite-spacing-xxs);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-date-picker-year-text-color, var(--calcite-color-text-1));font-size:var(--calcite-font-size-md);line-height:var(--calcite-font-line-height-fixed-lg)}.year{position:relative;display:inline-block;border-style:none;background-color:transparent;text-align:center;font-family:inherit;outline-color:transparent;inline-size:44px}.year:hover{transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:outline-color;outline:2px solid var(--calcite-color-border-2);outline-offset:-2px}.year:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.month-select{--calcite-select-internal-border-width: 0;--calcite-select-internal-icon-border-inline-end-width: 0;--calcite-select-spacing-inline: var(--calcite-spacing-xxs);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size-md));--calcite-select-text-color: var(--calcite-date-picker-month-select-text-color, var(--calcite-color-text-1));--calcite-select-icon-color: var(--calcite-date-picker-month-select-icon-color);--calcite-select-icon-color-hover: var(--calcite-date-picker-month-select-icon-color-hover);--calcite-internal-select-spacing-block: var(--calcite-spacing-xxs);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-xxs);--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-lg);--calcite-internal-select-font-weight: var(--calcite-font-weight-medium)}:host([scale=s]) .month-year-container .month-select{--calcite-select-spacing-inline: var(--calcite-spacing-base);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size));--calcite-internal-select-spacing-block: var(--calcite-spacing-base);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-base);--calcite-internal-select-block-size: 24px;--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-base)}:host([scale=s]) .month-year-container .year{inline-size:40px}:host([scale=s]) .month-year-container .year,:host([scale=s]) .month-year-container .suffix{font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-fixed-base)}:host([scale=l]) .month-year-container .month-select{--calcite-select-spacing-inline: var(--calcite-spacing-sm);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size-lg));--calcite-internal-select-spacing-block: var(--calcite-spacing-sm);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-sm);--calcite-internal-select-block-size: 44px;--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-xl)}:host([scale=l]) .month-year-container .year{inline-size:48px}:host([scale=l]) .month-year-container .year,:host([scale=l]) .month-year-container .suffix{font-size:var(--calcite-font-size-lg);line-height:var(--calcite-font-line-height-fixed-xl)}:host([hidden]){display:none}[hidden]{display:none}`,A={header:"header",chevron:"chevron",chevronContainer:"chevron-container",monthYearContainer:"month-year-container",monthPicker:"month-select",rangeCalendar:"range-calendar",suffix:"suffix",yearContainer:"year-container",year:"year"},$e={chevronLeft:"chevron-left",chevronRight:"chevron-right"},wt=16,j=class j extends O{constructor(){super(...arguments),this.monthPickerRef=C(),this.nextMonthActionRef=C(),this.prevMonthActionRef=C(),this.yearInputRef=C(),this.calciteInternalDatePickerMonthHeaderSelectChange=b({cancelable:!1})}connectedCallback(){super.connectedCallback(),this.setNextPrevMonthDates()}load(){this.parentDatePickerEl=He(this.el,"calcite-date-picker")}willUpdate(e){this.hasUpdated&&(e.has("activeDate")||e.has("localeData"))&&this.setYearSelectMenuWidth(),this.hasUpdated&&e.has("scale")&&this.setYearSelectWidthOffset(),(e.has("min")||e.has("max")||e.has("activeDate"))&&this.setNextPrevMonthDates()}loaded(){this.setYearSelectWidthOffset()}setNextPrevMonthDates(){this.activeDate&&(this.nextMonthDate=h(S(this.activeDate),this.min,this.max),this.prevMonthDate=h(V(this.activeDate),this.min,this.max))}onYearKey(e){const t=this.parseCalendarYear(e.target.value);switch(e.key){case"ArrowDown":e.preventDefault(),this.setYear({localizedYear:t,offset:-1});break;case"ArrowUp":e.preventDefault(),this.setYear({localizedYear:t,offset:1});break}}formatCalendarYear(e){return k.localize(`${gt(e,this.localeData)}`)}parseCalendarYear(e){return k.localize(`${Ye(Number(k.delocalize(e)),this.localeData)}`)}onYearChange(e){this.setYear({localizedYear:this.parseCalendarYear(e.target.value)})}onYearInput(e){this.setYear({localizedYear:this.parseCalendarYear(e.target.value),commit:!1})}prevMonthClick(e){this.handleArrowClick(e,this.prevMonthDate)}prevMonthKeydown(e){ae(e.key)&&this.prevMonthClick(e)}nextMonthClick(e){this.handleArrowClick(e,this.nextMonthDate)}nextMonthKeydown(e){ae(e.key)&&this.nextMonthClick(e)}async handleArrowClick(e,t){e.preventDefault(),await this.handlePenultimateValidMonth(e),this.calciteInternalDatePickerMonthHeaderSelectChange.emit(t)}handleMonthChange(e){const t=e.target,{abbreviated:a,wide:i}=this.localeData.months,s=(this.monthStyle==="wide"?i:a).indexOf(t.value);let c=we(this.activeDate,s);z(c,this.min,this.max)||(c=h(c,this.min,this.max)),this.calciteInternalDatePickerMonthHeaderSelectChange.emit(c),this.setYearSelectMenuWidth()}getInRangeDate({localizedYear:e,offset:t=0}){const{min:a,max:i,activeDate:n}=this,s=Number(k.delocalize(e)),c=s.toString().length,o=isNaN(s)?!1:s+t,u=o&&(!a||a.getFullYear()<=o)&&(!i||i.getFullYear()>=o);if(o&&u&&c===e.length){const D=new Date(n);return D.setFullYear(o),h(D,a,i)}}setYear({localizedYear:e,commit:t=!0,offset:a=0}){const{yearInputRef:i,activeDate:n}=this,s=this.getInRangeDate({localizedYear:e,offset:a});s&&this.calciteInternalDatePickerMonthHeaderSelectChange.emit(s),t&&(i.value.value=this.formatCalendarYear((s||n).getFullYear()))}setYearSelectWidthOffset(){this.yearSelectWidthOffset=wt+3*parseInt(this.getYearSelectPadding()),this.setYearSelectMenuWidth()}setYearSelectMenuWidth(){const e=this.monthPickerRef.value;e&&requestAnimationFrame(()=>{const t=getComputedStyle(e),a=`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${t.fontSize}/${t.lineHeight} ${t.fontFamily}`,n=this.localeData.months[this.monthStyle][this.activeDate.getMonth()],s=Math.ceil(et(n,a));e.style.width=`${s+this.yearSelectWidthOffset}px`})}isMonthInRange(e){const t=we(this.activeDate,e);return!this.min&&!this.max||z(t,this.min,this.max)?!0:M(t,this.max)||M(t,this.min)}async handlePenultimateValidMonth(e){var s;const i=e.target.getAttribute("data-direction")==="left";let n;if(i&&this.min){const c=h(V(this.activeDate),this.min,this.max);n=M(c,this.min)}else if(this.max){const c=h(S(this.activeDate),this.min,this.max);n=M(c,this.max)}if(n)if(this.position)(s=this.yearInputRef.value)==null||s.focus();else{const o=(i?this.nextMonthActionRef:this.prevMonthActionRef).value;if(!o)return;o.disabled=!1,await o.setFocus()}}getPx(e){const t=Number(e.replace(/[rem|px]/g,"")),a=16;return e.includes("rem")?`${t*a}px`:`${t}px`}getYearSelectPadding(){let e;switch(this.scale){case"l":e=xt;break;case"s":e=Dt;break;default:e=yt;break}return this.getPx(e)}render(){return d`<div class=${l(A.header)}>${this.renderContent()}</div>`}renderContent(){const{localeData:e,activeDate:t}=this;if(!t||!e)return null;if(this.parentDatePickerEl){const{numberingSystem:n,lang:s}=this.parentDatePickerEl;k.numberFormatOptions={useGrouping:!1,...n&&{numberingSystem:n},...s&&{locale:s}}}const a=Ue(e.unitOrder),i=a.indexOf("y")<a.indexOf("m");return d`${this.position&&d`<div class=${l({[A.chevronContainer]:!0})}>${this.position==="start"&&this.renderChevron("left")||""}</div>`||""}<div class=${l({[A.monthYearContainer]:!0,[A.rangeCalendar]:!!this.position})}>${this.renderMonthYearContainer(i)}</div>${!this.position&&d`<div class=${l({[A.chevronContainer]:!0})}>${this.renderChevron("left")}</div>`||""}<div class=${l({[A.chevronContainer]:!0})}>${this.position!=="start"&&this.renderChevron("right")||""}</div>`}renderMonthYearContainer(e){return e?[this.renderYearInput(),this.renderMonthPicker()]:[this.renderMonthPicker(),this.renderYearInput()]}renderMonthPicker(){const e=this.activeDate.getMonth(),t=this.localeData.months[this.monthStyle];return d`<calcite-select class=${l(A.monthPicker)} .label=${this.messages.monthMenu} @calciteSelectChange=${this.handleMonthChange} width=auto ${x(this.monthPickerRef)}>${t.map((a,i)=>d`<calcite-option .disabled=${!this.isMonthInRange(i)} .selected=${i===e} .value=${a}>${a}</calcite-option>`)}</calcite-select>`}renderYearInput(){var a;const e=(a=this.localeData.year)==null?void 0:a.suffix,t=this.formatCalendarYear(this.activeDate.getFullYear());return d`<span class=${l(A.yearContainer)}><input .ariaLabel=${this.messages.year} class=${l({[A.year]:!0})} inputmode=numeric maxlength=4 minlength=1 @change=${this.onYearChange} @input=${this.onYearInput} @keydown=${this.onYearKey} pattern=\\d* type=text .value=${Oe(t??"")} ${x(this.yearInputRef)}>${e&&d`<span class=${l(A.suffix)}>${e}</span>`||""}</span>`}renderChevron(e){const t=e==="right",a=M(t?this.nextMonthDate:this.prevMonthDate,this.activeDate)||!z(this.activeDate,this.min,this.max);return d`<calcite-action alignment=center .ariaDisabled=${a} .ariaLabel=${t?this.messages.nextMonth:this.messages.prevMonth} class=${l(A.chevron)} compact data-direction=${e??v} .disabled=${a} .icon=${t?$e.chevronRight:$e.chevronLeft} icon-flip-rtl @click=${t?this.nextMonthClick:this.prevMonthClick} @keydown=${t?this.nextMonthKeydown:this.prevMonthKeydown} role=button .scale=${this.scale==="l"?"l":"m"} .text=${t?this.messages.nextMonth:this.messages.prevMonth} ${x(t?this.nextMonthActionRef:this.prevMonthActionRef)}></calcite-action>`}};j.properties={nextMonthDate:[16,{},{state:!0}],prevMonthDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],headingLevel:[9,{},{type:Number}],localeData:[0,{},{attribute:!1}],max:[0,{},{attribute:!1}],messages:[0,{},{attribute:!1}],min:[0,{},{attribute:!1}],monthStyle:1,position:1,scale:[3,{},{reflect:!0}],selectedDate:[0,{},{attribute:!1}]},j.styles=kt;let re=j;P("calcite-date-picker-month-header",re);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const $={calendar:"calendar",calendarContainer:"calendar-container",calendarStart:"calendar--start",currentDay:"current-day",dayContainer:"day-container",insideRangeHover:"inside-range--hover",month:"month",noncurrent:"noncurrent",outsideRangeHover:"outside-range--hover",weekDays:"week-days",weekHeader:"week-header",weekHeaderContainer:"week-header-container"},$t=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([hidden]){display:none}[hidden]{display:none}.calendar-container{display:flex;inline-size:100%}:host([range][layout=vertical]) .calendar-container{flex-direction:column}.calendar{inline-size:100%}.week-header-container{display:flex;block-size:16px;padding-inline:var(--calcite-spacing-sm);padding-block:var(--calcite-spacing-md)}.week-header{display:flex;align-items:center;justify-content:center;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-bold);inline-size:14.2857142857%;color:var(--calcite-date-picker-week-header-text-color, var(--calcite-color-text-2))}.day-container{display:flex;inline-size:100%;min-inline-size:0px;justify-content:center}.day-container calcite-date-picker-day{inline-size:100%}.week-days{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;padding-inline:var(--calcite-spacing-sm);padding-block-end:var(--calcite-spacing-sm)}.month-header{display:flex;inline-size:100%;justify-content:space-between}.month{display:flex;inline-size:100%;flex-direction:column;justify-content:space-between}.day{font-size:var(--calcite-font-size)}:host([scale=s]) .week-days{padding-inline:var(--calcite-spacing-xs);padding-block-end:var(--calcite-spacing-xs)}:host([scale=s]) .week-header-container{padding-inline:var(--calcite-spacing-xs);padding-block:var(--calcite-spacing-sm)}:host([scale=s]) .day{font-size:var(--calcite-font-size-sm)}:host([scale=l]) .week-header{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .week-days{padding-inline:var(--calcite-spacing-md);padding-block-end:var(--calcite-spacing-md)}:host([scale=l]) .week-header-container{padding-inline:var(--calcite-spacing-md);padding-block:var(--calcite-spacing-md-plus)}:host([scale=l]) .day{font-size:var(--calcite-font-size-md)}.calendar--start{border-width:0px;border-style:solid;border-color:var(--calcite-date-picker-range-calendar-divider-color, var(--calcite-color-border-1))}:host([range][layout=horizontal][calendars="2"]) .calendar--start{border-inline-end-width:var(--calcite-border-width-sm)}:host([range][layout=vertical][calendars="2"]) .calendar--start{border-block-end-width:var(--calcite-border-width-sm)}.noncurrent{pointer-events:none;opacity:0}`,T=7,Q=6,Ie=42,_=class _ extends O{constructor(){super(),this.storeDayRef=e=>{e!=null&&e.active&&this.activeFocus&&e.setFocus()},this.activeDate=new Date,this.calendars=2,this.range=!1,this.calciteInternalDatePickerDayHover=b({cancelable:!1}),this.calciteInternalDatePickerDaySelect=b({cancelable:!1}),this.calciteInternalDatePickerMonthActiveDateChange=b({cancelable:!1}),this.calciteInternalDatePickerMonthChange=b({cancelable:!1}),this.calciteInternalDatePickerMonthMouseOut=b({cancelable:!1}),this.listen("pointerout",this.pointerOutHandler),this.listen("focusout",this.disableActiveFocus)}load(){this.focusedDate=this.selectedDate||this.activeDate}willUpdate(e){e.has("activeDate")&&this.updateFocusedDateWithActive(this.activeDate),e.has("selectedDate")&&(this.focusedDate=this.selectedDate)}updateFocusedDateWithActive(e){this.selectedDate||(this.focusedDate=z(e,this.min,this.max)?e:h(e,this.min,this.max))}keyDownHandler(e){if(e.defaultPrevented)return;const t=this.el.dir==="rtl",a=e.target.value;switch(e.key){case"ArrowUp":e.preventDefault(),this.addDays(-7,a);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1,a);break;case"ArrowDown":e.preventDefault(),this.addDays(7,a);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1,a);break;case"PageUp":e.preventDefault(),this.addMonths(-1,a);break;case"PageDown":e.preventDefault(),this.addMonths(1,a);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays(0,a);break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays(0,a);break;case"Enter":case" ":e.preventDefault();break;case"Tab":this.activeFocus=!1}}disableActiveFocus(){this.activeFocus=!1}pointerOutHandler(){this.calciteInternalDatePickerMonthMouseOut.emit()}addMonths(e,t){const a=new Date(t);a.setMonth(t.getMonth()+e),this.calciteInternalDatePickerMonthActiveDateChange.emit(h(a,this.min,this.max)),this.focusedDate=h(a,this.min,this.max),this.activeFocus=!0,this.calciteInternalDatePickerDayHover.emit(a)}addDays(e=0,t){const a=new Date(t);a.setDate(t.getDate()+e),this.calciteInternalDatePickerMonthActiveDateChange.emit(h(a,this.min,this.max)),this.focusedDate=h(a,this.min,this.max),this.activeFocus=!0,this.calciteInternalDatePickerDayHover.emit(a)}getPreviousMonthDays(e,t,a){const i=new Date(t,e,0),n=i.getDate(),s=i.getDay(),c=[];if(s===(a+Q)%T)return c;if(s===a)return[n];for(let o=(T+s-a)%T;o>=0;o--)c.push(n-o);return c}getCurrentMonthDays(e,t){const a=new Date(t,e+1,0).getDate(),i=[];for(let n=0;n<a;n++)i.push(n+1);return i}getNextMonthDays(e,t,a){const i=new Date(t,e+1,0).getDay(),n=[];if(i===(a+Q)%T)return n;for(let s=0;s<(Q-(i-a))%T;s++)n.push(s+1);return n}betweenSelectedRange(e){return!!(this.startDate&&this.endDate&&e>this.startDate&&e<this.endDate&&!this.isRangeHover(e))}isSelected(e){return!!(y(e,this.selectedDate)||this.startDate&&y(e,this.startDate)||this.endDate&&y(e,this.endDate))}isStartOfRange(e){return!!(this.startDate&&!y(this.startDate,this.endDate)&&y(this.startDate,e)&&!this.isEndOfRange(e))}isEndOfRange(e){return!!(this.endDate&&!y(this.startDate,this.endDate)&&y(this.endDate,e)||!this.endDate&&this.hoverRange&&y(this.startDate,this.hoverRange.end)&&y(e,this.hoverRange.end))}dayHover(e){const t=e.target;t.disabled?this.calciteInternalDatePickerMonthMouseOut.emit():this.calciteInternalDatePickerDayHover.emit(t.value),e.stopPropagation()}daySelect(e){const t=e.target;this.activeFocus=!1,this.calciteInternalDatePickerDaySelect.emit(t.value),e.stopPropagation()}isFocusedOnStart(){var e;return((e=this.hoverRange)==null?void 0:e.focused)==="start"}isHoverInRange(){if(!this.hoverRange||!this.startDate)return!1;const{start:e,end:t}=this.hoverRange,a=this.isFocusedOnStart(),i=this.startDate&&t>this.startDate,n=this.endDate&&t<this.endDate,s=this.startDate&&e>this.startDate,c=this.endDate&&e<this.endDate,o=!a&&this.startDate&&i&&(!this.endDate||n),u=a&&this.startDate&&s&&c;return o||u}isRangeHover(e){if(!this.hoverRange)return!1;const{start:t,end:a}=this.hoverRange,i=this.isFocusedOnStart(),n=this.isHoverInRange(),s=e>t&&e<this.startDate,c=e<a&&e>this.endDate,o=e>a&&e<this.endDate,u=e<t&&e>this.startDate,D=e<a&&e>this.startDate,p=e>t&&e<this.endDate,w=this.startDate&&this.endDate;if(n){if(w)return i?e<this.endDate&&(u||s):o||c;if(this.startDate&&!this.endDate)return i?s:D;if(!this.startDate&&this.endDate)return i?p:c}else if(w)return i?s:c}getDays(e,t,a,i="start"){let n=this.activeDate.getMonth();const s=n+1;n=i==="end"?s:n;let c=0;const o=()=>c++%7,u=this.activeDate.getFullYear();return[...e.map(p=>({active:!1,day:p,dayInWeek:o(),date:new Date(u,n-1,p)})),...t.map(p=>{const w=new Date(u,n,p),R=y(w,new Date);return{active:this.focusedDate&&this.focusedDate!==this.startDate&&this.focusedDate!==this.endDate?y(w,this.focusedDate):y(w,this.startDate)||y(w,this.endDate),currentMonth:!0,currentDay:R,day:p,dayInWeek:o(),date:w}}),...a.map(p=>({active:!1,day:p,dayInWeek:o(),date:new Date(u,s,p)}))]}monthHeaderSelectChange(e){const t=new Date(e.detail),a=e.target;this.updateFocusableDate(t),e.stopPropagation(),this.calciteInternalDatePickerMonthChange.emit({date:t,position:a.position})}updateFocusableDate(e){!this.selectedDate||!this.range?this.focusedDate=this.getFirstValidDateOfMonth(e):this.selectedDate&&this.range&&(!M(this.startDate,e)||!M(this.endDate,e))&&(this.focusedDate=this.getFirstValidDateOfMonth(e))}getFirstValidDateOfMonth(e){return e.getDate()===1?e:ne(e,this.min,this.max)}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),a=this.localeData.weekStart%7,{abbreviated:i,short:n,narrow:s}=this.localeData.days,c=this.scale==="s"?s||n||i:n||i||s,o=[...c.slice(a,7),...c.slice(0,a)],u=this.getCurrentMonthDays(e,t),D=this.getPreviousMonthDays(e,t,a),p=this.getNextMonthDays(e,t,a),w=u.length+D.length+p.length;if(w<Ie){const Ge=p.length?p[p.length-1]:0;for(let X=1;X<=Ie-w;X++)p.push(Ge+X)}const R=e+1,fe=this.getPreviousMonthDays(R,t,a),qe=this.getCurrentMonthDays(R,t),je=this.getNextMonthDays(R,t,a),_e=this.getDays(D,u,p),Ke=this.getDays(fe,qe,je,"end");return d`<div class=${l({[$.calendarContainer]:!0})} role=grid>${this.renderCalendar(o,_e)}${this.range&&this.calendars===2&&this.renderCalendar(o,Ke,!0)||""}</div>`}renderDateDay({active:e,currentMonth:t,currentDay:a,date:i,day:n,dayInWeek:s},c){const o=z(i,this.min,this.max);return tt(c,d`<div class=${l({[$.dayContainer]:!0})} role=gridcell><calcite-date-picker-day .active=${e} class=${l({[$.currentDay]:a,[$.insideRangeHover]:this.isHoverInRange(),[$.outsideRangeHover]:!this.isHoverInRange(),[$.noncurrent]:this.range&&!t})} .currentMonth=${t} .dateTimeFormat=${this.dateTimeFormat} .day=${n} .disabled=${!o} .endOfRange=${this.isEndOfRange(i)} .highlighted=${this.betweenSelectedRange(i)} @calciteInternalDayHover=${this.dayHover} @calciteInternalDaySelect=${this.daySelect} .range=${!!this.startDate&&!!this.endDate&&!y(this.startDate,this.endDate)} .rangeEdge=${s===0?"start":s===6?"end":void 0} .rangeHover=${o&&this.isRangeHover(i)} .scale=${this.scale} .selected=${this.isSelected(i)} .startOfRange=${this.isStartOfRange(i)} .value=${i} ${x(this.storeDayRef)}></calcite-date-picker-day></div>`)}renderCalendar(e,t,a=!1){return d`<div class=${l({[$.calendar]:!0,[$.calendarStart]:!a})}><calcite-date-picker-month-header .activeDate=${a?S(this.activeDate):this.activeDate} data-test-calendar=${a?"end":"start"} .headingLevel=${this.headingLevel} .localeData=${this.localeData} .max=${this.max} .messages=${this.messages} .min=${this.min} .monthStyle=${this.monthStyle} @calciteInternalDatePickerMonthHeaderSelectChange=${this.monthHeaderSelectChange} .position=${a?"end":this.range&&this.calendars===2?"start":null} .scale=${this.scale} .selectedDate=${this.selectedDate}></calcite-date-picker-month-header>${this.renderMonthCalendar(e,t,a)}</div>`}renderMonthCalendar(e,t,a=!1){return d`<div class=${l({[$.month]:!0})} @keydown=${this.keyDownHandler}><div class=${l({[$.weekHeaderContainer]:!0})} role=row>${e.map(n=>d`<span class=${l({[$.weekHeader]:!0})} role=columnheader>${n}</span>`)}</div><div class=${l({[$.weekDays]:!0})} role=row>${t.map((n,s)=>this.renderDateDay(n,a?50+s:s))}</div></div>`}};_.properties={focusedDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],calendars:[11,{},{type:Number,reflect:!0}],dateTimeFormat:[0,{},{attribute:!1}],endDate:[0,{},{attribute:!1}],headingLevel:[11,{},{type:Number,reflect:!0}],hoverRange:[0,{},{attribute:!1}],layout:[3,{},{reflect:!0}],localeData:[0,{},{attribute:!1}],max:[0,{},{attribute:!1}],messages:[0,{},{attribute:!1}],min:[0,{},{attribute:!1}],monthStyle:1,range:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selectedDate:[0,{},{attribute:!1}],startDate:[0,{},{attribute:!1}]},_.styles=$t;let ce=_;P("calcite-date-picker-month",ce);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const Z={},ee={};async function pe(r){const e=Be(r);if(Z[e])return Z[e];ee[e]||(ee[e]=fetch(at(`./assets/date-picker/nls/${e}.json`)).then(a=>a.json()).catch(()=>(console.error(`Native Language Support data for "${e}" not found or invalid, falling back to english`),pe("en"))));const t=await ee[e];return Z[e]=t,t}function W(r){return r.map((e,t)=>g(e,t===1))}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const It=2,At={dateStyle:"full"},St={container:"container"},Ct=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:inline-block;inline-size:100%;overflow:visible;border-width:1px;border-style:solid;vertical-align:top;border-color:var(--calcite-date-picker-border-color, var(--calcite-color-border-1));border-radius:var(--calcite-date-picker-corner-radius, 0)}:host([scale=s]){inline-size:236px;min-inline-size:216px;max-inline-size:380px}:host([scale=s][range][layout=horizontal][calendars="2"]){inline-size:480px;min-inline-size:432px;max-inline-size:772px}:host([scale=m]){inline-size:298px;min-inline-size:272px;max-inline-size:480px}:host([scale=m][layout=horizontal][range][calendars="2"]){inline-size:608px;min-inline-size:544px;max-inline-size:972px}:host([scale=l]){inline-size:334px;min-inline-size:320px;max-inline-size:600px}:host([scale=l][layout=horizontal][range][calendars="2"]){inline-size:684px;min-inline-size:640px;max-inline-size:1212px}.container{outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,K=class K extends O{constructor(){super(),this.rangeValueChangedByUser=!1,this.messages=de({blocking:!0}),this.focusSetter=G()(this),this.calendars=2,this.layout="horizontal",this.monthStyle="wide",this.proximitySelectionDisabled=!1,this.range=!1,this.scale="m",this.calciteDatePickerChange=b({cancelable:!1}),this.calciteDatePickerRangeChange=b({cancelable:!1}),this.listen("keydown",this.keyDownHandler)}async reset(){this.resetActiveDates(),this.rangeValueChangedByUser=!1}async setFocus(e){return this.focusSetter(()=>this.el,e)}async load(){await this.loadLocaleData()}willUpdate(e){e.has("value")&&this.valueHandler(this.value),e.has("valueAsDate")&&this.valueAsDateWatcher(this.valueAsDate);let t,a;e.has("min")&&!e.has("minAsDate")?t="min":e.has("minAsDate")&&!e.has("min")&&(t="minAsDate"),e.has("max")&&!e.has("maxAsDate")?a="max":e.has("maxAsDate")&&!e.has("max")&&(a="maxAsDate"),t==="min"?this.minAsDate=g(this.min):t==="minAsDate"&&(this.minAsDate=g(m(this.minAsDate))),a==="max"?this.maxAsDate=g(this.max):a==="maxAsDate"&&(this.maxAsDate=g(m(this.maxAsDate))),(e.has("range")&&this.range||e.has("maxAsDate")||e.has("minAsDate"))&&this.setActiveStartAndEndDates(),e.has("activeDate")&&this.activeDateWatcher(this.activeDate),e.has("messages")&&this.hasUpdated&&this.loadLocaleData().catch(console.error)}activeDateWatcher(e){this.range&&(this.rangeValueChangedByUser||(e?(this.activeStartDate=e,this.activeEndDate=S(this.activeStartDate)):this.resetActiveDates()))}valueHandler(e){Array.isArray(e)?(this.valueAsDate=W(e),this.rangeValueChangedByUser||this.resetActiveDates()):e&&(this.valueAsDate=g(e))}valueAsDateWatcher(e){this.range&&Array.isArray(e)&&!this.rangeValueChangedByUser?this.setActiveStartAndEndDates():e&&e!==this.activeDate&&(this.activeDate=e)}keyDownHandler(e){e.key==="Escape"&&this.resetActiveDates()}async loadLocaleData(){k.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},this.localeData=await pe(this.messages._lang),this.dateTimeFormat=it(this.messages._lang,At)}monthHeaderSelectChange(e){const t=new Date(e.detail.date),a=e.detail.position;this.range?a==="end"?(this.activeEndDate=t,this.activeStartDate=V(t)):(this.activeStartDate=t,this.activeEndDate=S(t)):this.activeDate=t,e.stopPropagation()}monthActiveDateChange(e){const t=new Date(e.detail);if(!this.range)this.activeDate=t;else{const a=t.getMonth(),i=a!==this.activeStartDate.getMonth()&&(this.calendars===1||a!==S(this.activeStartDate).getMonth());this.activeRange==="end"?(!this.activeEndDate||this.activeStartDate&&i)&&(this.activeEndDate=t,this.activeStartDate=V(t)):(this.activeStartDate&&i||!this.activeStartDate)&&(this.activeStartDate=t,this.activeEndDate=S(t))}e.stopPropagation()}monthHoverChange(e){if(!this.range){this.hoverRange=void 0;return}const{valueAsDate:t}=this,a=Array.isArray(t)&&t[0],i=Array.isArray(t)&&t[1],n=new Date(e.detail);if(this.hoverRange={focused:this.activeRange||"start",start:a,end:i},this.proximitySelectionDisabled)i&&a||!i&&n>=a?(this.hoverRange.focused="end",this.hoverRange.end=n):!i&&n<a?this.hoverRange={focused:"start",start:n,end:a}:this.hoverRange=void 0;else if(this.activeRange)this.activeRange==="end"?(this.hoverRange.end=n,this.hoverRange.focused="end"):(this.hoverRange.start=n,this.hoverRange.focused="start");else if(a&&i){const s=Math.abs(Y(n,a)),c=Math.abs(Y(n,i));n>i?(this.hoverRange.end=n,this.hoverRange.focused="end"):n<a?(this.hoverRange.start=n,this.hoverRange.focused="start"):n>a&&n<i&&(s<c?(this.hoverRange.start=n,this.hoverRange.focused="start"):(this.hoverRange.end=n,this.hoverRange.focused="end"))}else a&&(n<a?this.hoverRange={focused:"start",start:n,end:a}:(this.hoverRange.end=n,this.hoverRange.focused="end"));e.stopPropagation()}monthMouseOutChange(e){this.hoverRange&&(this.hoverRange=void 0),e.stopPropagation()}resetActiveDates(){const{valueAsDate:e}=this;!Array.isArray(e)&&e&&e!==this.activeDate&&(this.activeDate=new Date(e)),Array.isArray(e)&&(e[0]&&e[0]!==this.activeStartDate&&(this.activeStartDate=new Date(e[0])),e[1]&&e[1]!==this.activeEndDate&&(this.activeEndDate=new Date(e[1]))),this.hoverRange=void 0}getEndDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0}setEndDate(e,t=!0){const a=this.getStartDate();this.rangeValueChangedByUser=!0,this.value=[m(a),m(e)],this.valueAsDate=[a,e],t&&this.calciteDatePickerRangeChange.emit()}getStartDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[0]}setStartDate(e,t=!0){const a=this.getEndDate();this.rangeValueChangedByUser=!0,this.value=[m(e),m(a)],this.valueAsDate=[e,a],t&&this.calciteDatePickerRangeChange.emit()}monthDateChange(e){const t=new Date(e.detail),a=m(t);if(!this.range&&a===m(this.valueAsDate))return;if(!this.range){this.value=a||"",this.valueAsDate=t||null,this.activeDate=t||null,this.calciteDatePickerChange.emit();return}const i=this.getStartDate(),n=this.getEndDate();if(!i||!n&&t<i)i&&this.setEndDate(new Date(i)),this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else if(!n)this.setEndDate(t);else if(this.proximitySelectionDisabled)this.setStartDate(t,!1),this.setEndDate(null,!1),this.calciteDatePickerRangeChange.emit();else if(this.activeRange)this.activeRange=="end"?this.setEndDate(t):(t>n&&(this.setEndDate(null,!1),this.activeEndDate=null),this.setStartDate(t));else{const s=Y(t,i),c=Y(t,n);c===0||s<0?this.setStartDate(t):s===0||c<0?this.setEndDate(t):s<c?this.setStartDate(t):this.setEndDate(t)}e.stopPropagation(),this.calciteDatePickerChange.emit()}getActiveDate(e,t,a){const i=h(new Date,t,a);return h(this.activeDate,t,a)||e||(y(a,i)&&!this.range?ne(i,t,a):i)}getActiveEndDate(e,t,a){return h(this.activeEndDate,t,a)||e||h(S(new Date),t,a)}setActiveStartAndEndDates(){if(this.range){const e=h(Array.isArray(this.valueAsDate)?this.valueAsDate[0]:this.valueAsDate,this.minAsDate,this.maxAsDate),t=h(Array.isArray(this.valueAsDate)?this.valueAsDate[1]:null,this.minAsDate,this.maxAsDate);if(this.activeStartDate=this.getActiveDate(e,this.minAsDate,this.maxAsDate),this.activeEndDate=this.getActiveEndDate(t,this.minAsDate,this.maxAsDate),y(this.activeStartDate,this.activeEndDate)){const a=ne(V(this.activeEndDate),this.minAsDate,this.maxAsDate),i=S(this.activeEndDate);z(a,this.minAsDate,this.maxAsDate)?this.activeStartDate=a:z(i,this.minAsDate,this.maxAsDate)&&(this.activeEndDate=i)}}}render(){const e=h(this.range&&Array.isArray(this.valueAsDate)?this.valueAsDate[0]:this.valueAsDate,this.minAsDate,this.maxAsDate),t=this.getActiveDate(e,this.minAsDate,this.maxAsDate),a=this.range&&Array.isArray(this.valueAsDate)?h(this.valueAsDate[1],this.minAsDate,this.maxAsDate):null,i=this.range&&this.activeRange?this.activeRange==="start"?this.minAsDate:e:this.minAsDate,n=this.range?this.activeStartDate:t;return d`<div aria-hidden class=${l(St.container)} tabindex=-1>${this.renderMonth(n,this.maxAsDate,i,e,a)}</div>`}renderMonth(e,t,a,i,n){return d`<calcite-date-picker-month .activeDate=${e} .calendars=${this.calendars} .dateTimeFormat=${this.dateTimeFormat} .endDate=${this.range?n:void 0} .headingLevel=${this.headingLevel||It} .hoverRange=${this.hoverRange} .layout=${this.layout} .localeData=${this.localeData} .max=${t} .messages=${this.messages} .min=${a} .monthStyle=${this.monthStyle} @calciteInternalDatePickerDayHover=${this.monthHoverChange} @calciteInternalDatePickerDaySelect=${this.monthDateChange} @calciteInternalDatePickerMonthActiveDateChange=${this.monthActiveDateChange} @calciteInternalDatePickerMonthChange=${this.monthHeaderSelectChange} @calciteInternalDatePickerMonthMouseOut=${this.monthMouseOutChange} .range=${this.range} .scale=${this.scale} .selectedDate=${this.activeRange==="end"?n:i} .startDate=${this.range?i:void 0}></calcite-date-picker-month>`}};K.properties={activeEndDate:[16,{},{state:!0}],activeStartDate:[16,{},{state:!0}],dateTimeFormat:[16,{},{state:!0}],endAsDate:[16,{},{state:!0}],hoverRange:[16,{},{state:!0}],localeData:[16,{},{state:!0}],startAsDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],activeRange:[3,{},{reflect:!0}],calendars:[11,{},{type:Number,reflect:!0}],headingLevel:[11,{},{type:Number,reflect:!0}],layout:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],maxAsDate:[0,{},{attribute:!1}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],minAsDate:[0,{},{attribute:!1}],monthStyle:1,numberingSystem:[3,{},{reflect:!0}],proximitySelectionDisabled:[7,{},{reflect:!0,type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],value:1,valueAsDate:[0,{},{attribute:!1}]},K.styles=Ct;let le=K;P("calcite-date-picker",le);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.1 */const zt=F`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-icon-size: 1rem;--calcite-spacing-eighth: .125rem;--calcite-spacing-quarter: .25rem;--calcite-spacing-half: .5rem;--calcite-spacing-three-quarters: .75rem;--calcite-spacing: 1rem;--calcite-spacing-plus-quarter: 1.25rem;--calcite-spacing-plus-half: 1.5rem;--calcite-spacing-double: 2rem;--calcite-menu-min-width: 10rem;--calcite-header-min-height: 3rem;--calcite-footer-min-height: 3rem}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host .menu-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}:host .menu-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}:host .menu-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}:host .menu-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}:host .menu-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}:host{position:relative;display:inline-block;width:100%;overflow:visible;vertical-align:top;box-shadow:var(--calcite-input-date-picker-shadow, var(--calcite-shadow-none))}:host .menu-container .calcite-floating-ui-anim{box-shadow:var(--calcite-input-date-picker-calendar-shadow, var(--calcite-shadow-sm))}:host([scale=s]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-sm);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-lg))}:host([scale=m]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-md);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-xxl))}:host([scale=l]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-lg);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-xxxl))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.calendar-wrapper{box-shadow:var(--calcite-input-date-picker-calendar-shadow, var(--calcite-shadow-none));transform:translateZ(0)}.input-wrapper{position:relative}.input-wrapper .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color, var(--calcite-color-text-3))}.input-wrapper:focus-within .chevron-icon,.input-wrapper:active .chevron-icon,.input-wrapper:hover .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.input-wrapper:focus-within~.input-wrapper .chevron-icon,.input-wrapper:active~.input-wrapper .chevron-icon,.input-wrapper:hover~.input-wrapper .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.toggle-icon{position:absolute;display:flex;cursor:pointer;align-items:center;inset-inline-end:0;inset-block:0;padding-inline:var(--calcite-internal-date-picker-toggle-spacing)}:host([range]) .container{display:flex}:host([range]) .input-container{display:flex;flex:1 1 auto}:host([range]) .input-wrapper{flex:1 1 auto}.divider-container{display:flex;align-items:stretch;border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;background-color:var(--calcite-input-date-picker-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-input-date-picker-border-color, var(--calcite-color-border-input))}:host([layout=horizontal]) .divider-container{inline-size:var(--calcite-spacing-px)}.divider{display:inline-block;margin-block:var(--calcite-spacing-xxs);background-color:var(--calcite-input-date-picker-divider-color, var(--calcite-color-border-2));inline-size:var(--calcite-spacing-px)}:host([layout=vertical]) .divider-container{height:1px;width:100%;border-top-width:0px;border-bottom-width:0px;border-left-width:1px;border-right-width:0px;padding-inline:var(--calcite-spacing-md)}:host([layout=vertical]) .divider-container .divider{margin-top:0;margin-bottom:0;height:1px;width:100%}:host([range][layout=vertical]) .input-wrapper{width:100%}:host([range][layout=vertical]) .input-container{flex-direction:column;align-items:flex-start}.menu-container{--calcite-floating-ui-z-index: var(--calcite-z-index-dropdown);inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}@starting-style{.menu-container{opacity:0;inset-block-start:0;left:0}}.menu-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.menu-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.menu-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.menu-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.menu-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}.input .calcite-input__wrapper{margin-top:0}.vertical-chevron-container{display:flex;align-items:center;border-width:1px;border-left-width:0px;border-style:solid;padding-inline:var(--calcite-spacing-md);background-color:var(--calcite-input-date-picker-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-input-date-picker-border-color, var(--calcite-color-border-input))}.vertical-chevron-container calcite-icon{color:var(--calcite-input-date-picker-actions-icon-color, var(--calcite-color-text-3))}.vertical-chevron-container calcite-icon:hover{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}:host([range][layout=vertical][scale=s]) .vertical-chevron-container,:host([range][layout=vertical][scale=s]) .divider-container{padding-inline:var(--calcite-spacing-sm)}:host([range][layout=vertical][scale=l]) .vertical-chevron-container,:host([range][layout=vertical][scale=l]) .divider-container{padding-inline:var(--calcite-spacing-lg)}.container:focus-within .vertical-chevron-container calcite-icon,.container:active .vertical-chevron-container calcite-icon,.container:hover .vertical-chevron-container calcite-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.input{--calcite-input-text-background-color: var(--calcite-input-date-picker-background-color);--calcite-input-text-border-color: var(--calcite-input-date-picker-border-color);--calcite-input-text-corner-radius: var(--calcite-input-date-picker-corner-radius);--calcite-input-text-shadow: var(--calcite-input-date-picker-shadow);--calcite-input-text-icon-color: var(--calcite-input-date-picker-icon-color);--calcite-input-text-text-color: var(--calcite-input-date-picker-text-color);--calcite-input-text-placeholder-text-color: var(--calcite-input-date-picker-placeholder-text-color)}calcite-date-picker{--calcite-date-picker-border-color: var(--calcite-input-date-picker-calendar-border-color);--calcite-date-picker-corner-radius: var(--calcite-input-date-picker-calendar-corner-radius);--calcite-date-picker-range-calendar-divider-color: var(--calcite-input-date-picker-calendar-range-divider-color);--calcite-date-picker-week-header-text-color: var(--calcite-input-date-picker-calendar-text-color);--calcite-date-picker-header-action-background-color: var( --calcite-input-date-picker-calendar-actions-background-color );--calcite-date-picker-header-action-background-color-hover: var( --calcite-input-date-picker-calendar-actions-background-color-hover );--calcite-date-picker-header-action-background-color-press: var( --calcite-input-date-picker-calendar-actions-background-color-press );--calcite-date-picker-header-action-text-color: var(--calcite-input-date-picker-calendar-actions-text-color);--calcite-date-picker-header-action-text-color-press: var( --calcite-input-date-picker-calendar-actions-text-color-press );--calcite-date-picker-year-text-color: var(--calcite-input-date-picker-calendar-text-color);--calcite-date-picker-month-select-text-color: var(--calcite-input-date-picker-calendar-month-select-text-color);--calcite-date-picker-month-select-icon-color: var(--calcite-input-date-picker-calendar-icon-color);--calcite-date-picker-month-select-icon-color-hover: var(--calcite-input-date-picker-calendar-icon-color-hover);--calcite-date-picker-day-background-color: var(--calcite-input-date-picker-calendar-day-background-color);--calcite-date-picker-day-background-color-hover: var( --calcite-input-date-picker-calendar-day-background-color-hover );--calcite-date-picker-day-background-color-selected: var( --calcite-input-date-picker-calendar-selected-background-color );--calcite-date-picker-day-text-color: var(--calcite-input-date-picker-calendar-day-text-color);--calcite-date-picker-day-text-color-hover: var(--calcite-input-date-picker-calendar-day-text-color-hover);--calcite-date-picker-day-text-color-selected: var(--calcite-input-date-picker-calendar-day-text-color-selected);--calcite-date-picker-current-day-text-color: var( --calcite-input-date-picker-calendar-current-day-text-color, var(--calcite-input-date-picker-calendar-day-current-text-color) );--calcite-date-picker-day-range-text-color: var(--calcite-input-date-picker-calendar-day-range-text-color);--calcite-date-picker-day-range-background-color: var(--calcite-input-date-picker-calendar-selected-background-color);--calcite-date-picker-day-outside-range-background-color-hover: var( --calcite-input-date-picker-calendar-day-outside-range-background-color-hover );--calcite-date-picker-day-outside-range-text-color-hover: var( --calcite-input-date-picker-calendar-day-outside-range-text-color-hover )}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}.assistive-text{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}:host([hidden]){display:none}[hidden]{display:none}`,f={assistiveText:"assistive-text",calendarWrapper:"calendar-wrapper",container:"container",dividerContainer:"divider-container",divider:"divider",inputContainer:"input-container",inputNoBottomBorder:"input--no-bottom-border",inputNoRightBorder:"input--no-right-border",inputNoTopBorder:"input--no-top-border",inputNoLeftBorder:"input--no-left-border",inputWrapper:"input-wrapper",input:"input",menu:"menu-container",toggleIcon:"toggle-icon",verticalChevronContainer:"vertical-chevron-container",chevronIcon:"chevron-icon"},Rt="calcite-input-date-picker",L={validationMessage:"inputDatePickerValidationMessage",dialog:r=>`date-picker-dialog--${r}`,placeholder:r=>`${Rt}-placeholder-${r}`},Ae={start:"start",end:"end"},E={calendar:"calendar",chevronDown:"chevron-down",chevronUp:"chevron-up"};function Mt(r){if(!r)return!1;const{year:e}=Ne(r);return Number(e)<100}function Et(r){const e=new Date().getFullYear();return Math.floor(e/100)*100+r}const H=class H extends O{constructor(){super(),this.commonDateSeparators=[".","-","/"],this.dialogId=L.dialog(be()),this.endInputRef=C(),this.focusOnOpen=!1,this.focusTrap=nt({triggerProp:"open",focusTrapOptions:{onActivate:()=>{var e;this.focusOnOpen&&((e=this.datePickerEl)==null||e.setFocus(),this.focusOnOpen=!1)},allowOutsideClick:!0,clickOutsideDeactivates:!1,initialFocus:!1,setReturnFocus:!1,onDeactivate:()=>{this.open=!1}}})(this),this.transitionProp="opacity",this.placeholderTextId=L.placeholder(be()),this.rangeStartValueChangedByUser=!1,this.startInputRef=C(),this.userChangedValue=!1,this._value="",this.valueAsDateChangedExternally=!1,this.messages=de({blocking:!0}),this.focusSetter=G()(this),this.focusedInput="start",this.calendars=2,this.disabled=!1,this.focusTrapDisabled=!1,this.layout="horizontal",this.monthStyle="wide",this.open=!1,this.overlayPositioning="absolute",this.placement=st,this.proximitySelectionDisabled=!1,this.range=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputDatePickerBeforeClose=b({cancelable:!1}),this.calciteInputDatePickerBeforeOpen=b({cancelable:!1}),this.calciteInputDatePickerChange=b({cancelable:!1}),this.calciteInputDatePickerClose=b({cancelable:!1}),this.calciteInputDatePickerOpen=b({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.handleDateTimeFormatChange()}get value(){return this._value}set value(e){var i,n;const t=e!==this._value,a=e===""&&(((i=this.startInputRef.value)==null?void 0:i.value)!==""||((n=this.endInputRef.value)==null?void 0:n.value)!=="");(t||a)&&(this._value=e,this.valueWatcher(e))}async reposition(e=!1){const{floatingEl:t,referenceEl:a,placement:i,overlayPositioning:n,filteredFlipPlacements:s}=this;return rt(this,{floatingEl:t,referenceEl:a,overlayPositioning:n,placement:i,flipPlacements:s,type:"menu"},e)}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback();const{open:e}=this;if(e&&this.openHandler(),this.min&&(this.minAsDate=g(this.min)),this.max&&(this.maxAsDate=g(this.max)),Array.isArray(this.value))this.valueAsDate=W(this.value);else if(this.value)try{const t=g(this.value),a=h(t,this.minAsDate,this.maxAsDate);this.valueAsDate=a}catch{this.warnAboutInvalidValue(this.value),this.value=""}else this.valueAsDate&&(this.range&&Array.isArray(this.valueAsDate)?this.value=[m(this.valueAsDate[0]),m(this.valueAsDate[1])]:!this.range&&!Array.isArray(this.valueAsDate)&&(this.value=m(this.valueAsDate)));Se(this),Ce(this),this.setFilteredPlacements(),k.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},B(this)}async load(){this.handleDateTimeFormatChange(),await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}willUpdate(e){e.has("disabled")&&(this.hasUpdated||this.disabled!==!1)&&this.handleDisabledAndReadOnlyChange(this.disabled),e.has("readOnly")&&(this.hasUpdated||this.readOnly!==!1)&&this.handleDisabledAndReadOnlyChange(this.readOnly),e.has("valueAsDate")&&this.valueAsDateWatcher(this.valueAsDate),e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("min")&&this.onMinChanged(this.min),e.has("max")&&this.onMaxChanged(this.max),e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),e.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")&&this.reposition(!0),(e.has("numberingSystem")||e.has("messages"))&&this.handleDateTimeFormatChange(),e.has("layout")&&(this.hasUpdated||this.layout!=="horizontal")&&this.setReferenceEl(),e.has("messages")&&this.loadLocaleData()}updated(){he(this)}loaded(){this.localizeInputValues(),B(this)}disconnectedCallback(){super.disconnectedCallback(),ze(this),Re(this),ct(this)}handleDisabledAndReadOnlyChange(e){e||(this.open=!1)}valueWatcher(e){if(!this.userChangedValue){let t;Array.isArray(e)?t=W(e):e?t=g(e):t=void 0,!this.valueAsDateChangedExternally&&t!==this.valueAsDate&&(this.valueAsDate=t),this.localizeInputValues()}this.userChangedValue=!1}valueAsDateWatcher(e){const t=Array.isArray(e)?[m(e[0]),m(e[1])]:m(e);this.datePickerActiveDate=Array.isArray(e)?e[0]:e,this.value!==t&&(this.valueAsDateChangedExternally=!0,this.value=t,this.valueAsDateChangedExternally=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMinChanged(e){this.minAsDate=g(e)}onMaxChanged(e){this.maxAsDate=g(e)}openHandler(){lt(this),!(this.disabled||this.readOnly)&&this.reposition(!0)}calciteInternalInputInputHandler(e){const t=e.target,a=t.value,i=this.parseNumerals(a),n=this.formatNumerals(i);t.value=n;const{year:s}=We(a,this.localeData);if(s&&s.length<4)return;const c=ke(a,this.localeData);z(c,this.min,this.max)&&(this.datePickerActiveDate=c)}calciteInternalInputBlurHandler(){this.commitValue()}handleDateTimeFormatChange(){const e={numberingSystem:ot(this.numberingSystem)};this.dateTimeFormat=new Intl.DateTimeFormat(dt(Be(this.messages._lang)),e)}setReferenceEl(){const{focusedInput:e,layout:t,endWrapper:a,startWrapper:i}=this;this.referenceEl=e==="end"||t==="vertical"?a||i:i||a,requestAnimationFrame(()=>B(this))}onInputWrapperPointerDown(){this.currentOpenInput=this.focusedInput}onInputWrapperClick(e){const{range:t,endInputRef:a,startInputRef:i,currentOpenInput:n}=this,c=e.currentTarget.getAttribute("data-position");e.composedPath().find(D=>{var p;return(p=D.classList)==null?void 0:p.contains(f.toggleIcon)})&&(c==="start"?i:a).value.setFocus(),(!t||!this.open||n===c)&&(this.open=!this.open)}setFilteredPlacements(){const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?ht(t,e):null}setTransitionEl(e){e&&(this.transitionEl=e)}onLabelClick(){this.setFocus()}onBeforeOpen(){this.calciteInputDatePickerBeforeOpen.emit()}onOpen(){this.focusTrap.activate(),this.calciteInputDatePickerOpen.emit()}onBeforeClose(){this.calciteInputDatePickerBeforeClose.emit()}onClose(){var e;this.calciteInputDatePickerClose.emit(),ut(this),this.focusTrap.deactivate(),this.focusOnOpen=!1,(e=this.datePickerEl)==null||e.reset()}syncHiddenFormInput(e){Ee("date",this,e)}blurHandler(){this.open=!1}commitValue(){const{focusedInput:e,value:t}=this,a=this.getInputRef(e),i=ke(a.value.value,this.localeData),n=m(i),s=Array.isArray(t);if(this.range){const c=e==="start"?0:1;if(s){if(n===t[c])return;i?(this.setRangeValue([e==="start"?i:g(t[0]),e==="end"?i:g(t[1])]),this.localizeInputValues()):this.setRangeValue([e==="end"&&g(t[0]),e==="start"&&g(t[1])])}else i&&(this.setRangeValue([e==="start"?i:g(t[0]),e==="end"?i:g(t[1])]),this.localizeInputValues())}else{if(n===t)return;this.setValue(i),this.localizeInputValues()}}keyDownHandler(e){var n,s;const{defaultPrevented:t,key:a}=e;if(t)return;const i=e.composedPath().some(c=>c.tagName==="CALCITE-SELECT");a==="Enter"?(e.preventDefault(),this.commitValue(),this.shouldFocusRangeEnd()?(n=this.endInputRef.value)==null||n.setFocus():this.shouldFocusRangeStart()&&((s=this.startInputRef.value)==null||s.setFocus()),Me(this)&&this.restoreInputFocus(!0)):(a==="ArrowDown"||a==="ArrowUp")&&!i?(this.open=!0,this.focusOnOpen=!0,e.preventDefault()):this.open&&a==="Escape"&&(this.open=!1,e.preventDefault(),this.restoreInputFocus(!0))}startInputFocus(){this.focusedInput="start"}endInputFocus(){this.focusedInput="end"}setFloatingEl(e){this.floatingEl=e,B(this)}setStartWrapper(e){this.startWrapper=e,this.setReferenceEl()}setEndWrapper(e){this.endWrapper=e,this.setReferenceEl()}setDatePickerRef(e){e&&(this.datePickerEl=e,this.focusTrap.overrideFocusTrapEl(e))}async loadLocaleData(){k.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},this.localeData=await pe(this.messages._lang),this.localizeInputValues()}handleDateChange(e){this.range||(e.stopPropagation(),this.setValue(e.target.valueAsDate),this.localizeInputValues(),this.restoreInputFocus())}shouldFocusRangeStart(){const e=this.value[0];return!!(this.value[1]&&!e&&this.focusedInput==="end"&&this.startInputRef)}shouldFocusRangeEnd(){const e=this.value[0],t=this.value[1];return!!(e&&!t&&this.focusedInput==="start"&&this.endInputRef)}handleDateRangeChange(e){if(!this.range)return;e.stopPropagation();const t=e.target.valueAsDate;this.setRangeValue(t),this.localizeInputValues(),this.restoreInputFocus()}restoreInputFocus(e=!1){if(!this.range){this.startInputRef.value.setFocus(),this.open=!1;return}if(e){this.focusInput();return}this.rangeStartValueChangedByUser=this.focusedInput==="start",this.focusedInput="end",!(this.shouldFocusRangeStart()||this.rangeStartValueChangedByUser)&&(this.proximitySelectionDisabled&&this.valueAsDate[1]===null||(this.open=!1,this.focusInput()))}localizeInputValues(){const e=h(this.range?Array.isArray(this.valueAsDate)&&this.valueAsDate[0]||void 0:this.valueAsDate,this.minAsDate,this.maxAsDate),t=this.range?h(Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0,this.minAsDate,this.maxAsDate):null;this.setInputValue((e&&this.dateTimeFormat.format(e))??"","start"),this.setInputValue((this.range&&t&&this.dateTimeFormat.format(t))??"","end")}getInputRef(e="start"){return e==="start"?this.startInputRef:this.endInputRef}setInputValue(e,t="start"){const a=this.getInputRef(t);a.value&&(a.value.value=e)}setRangeValue(e){if(!this.range)return;const{value:t}=this,a=Array.isArray(t),i=Array.isArray(e),n=i?e[0]:null;let s=i?m(n):"";s&&(s=this.getNormalizedDate(s));const c=i?e[1]:null;let o=i?m(c):"";o&&(o=this.getNormalizedDate(o));const u=s||o?[s,o]:"";if(u===t)return;this.userChangedValue=!0,this.value=u,this.valueAsDate=u?W(u):void 0;const D=this.calciteInputDatePickerChange.emit();D&&D.defaultPrevented&&(this.value=t,a?(this.setInputValue(t[0],"start"),this.setInputValue(t[1],"end")):(this.value=t,this.setInputValue(t)))}setValue(e){if(this.range)return;const t=this.value;let a=m(e);if(a=this.getNormalizedDate(a),a===t)return;this.userChangedValue=!0,this.valueAsDate=a?g(a):void 0,this.value=a||"",this.calciteInputDatePickerChange.emit().defaultPrevented&&(this.value=t,this.setInputValue(t))}warnAboutInvalidValue(e){console.warn(`The specified value "${e}" does not conform to the required format, "YYYY-MM-DD".`)}formatNumerals(e){return e?e.split("").map(t=>{var a,i,n,s,c;return(a=this.commonDateSeparators)!=null&&a.includes(t)?(i=this.localeData)==null?void 0:i.separator:(n=De)!=null&&n.includes(t)?(c=(s=k)==null?void 0:s.numberFormatter)==null?void 0:c.format(Number(t)):t}).join(""):""}parseNumerals(e){return e?e.split("").map(t=>De.includes(t)?k.delocalize(t):t).join(""):""}getNormalizedDate(e){if(!e)return"";if(!Mt(e))return e;const{day:t,month:a,year:i}=Ne(e);return`${Et(Number(i))}-${a}-${t}`}focusInput(){(this.focusedInput==="start"?this.startInputRef:this.endInputRef).value.setFocus()}render(){var s,c,o;const{disabled:e,messages:{_lang:t},messages:a,numberingSystem:i,readOnly:n}=this;return k.numberFormatOptions={numberingSystem:i,locale:t,useGrouping:!1},ue({disabled:this.disabled,children:d`${this.labelText&&Pe({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${l(f.container)}><div aria-label=${Fe(this)??v} .ariaRequired=${this.required} class=${l(f.inputContainer)} role=group><div class=${l(f.inputWrapper)} data-position=${Ae.start} @click=${this.onInputWrapperClick} @pointerdown=${this.onInputWrapperPointerDown} ${x(this.setStartWrapper)}><calcite-input-text aria-controls=${this.dialogId??v} aria-describedby=${this.placeholderTextId??v} aria-errormessage=${L.validationMessage} aria-autocomplete=none .ariaExpanded=${this.open} aria-haspopup=dialog .ariaInvalid=${this.status==="invalid"} class=${l({[f.input]:!0,[f.inputNoBottomBorder]:this.layout==="vertical"&&this.range,[f.inputNoRightBorder]:this.range})} .disabled=${e} .icon=${E.calendar} .label=${this.range?this.messages.startDate:this.messages.date} @calciteInputTextInput=${this.calciteInternalInputInputHandler} @calciteInternalInputTextBlur=${this.calciteInternalInputBlurHandler} @calciteInternalInputTextFocus=${this.startInputFocus} .placeholder=${(s=this.localeData)==null?void 0:s.placeholder} .readOnly=${n} role=combobox .scale=${this.scale} .status=${this.status} ${x(this.startInputRef)}></calcite-input-text>${!this.readOnly&&!this.range&&this.renderToggleIcon(this.open&&this.focusedInput==="start")||""}<span aria-hidden=true class=${l(f.assistiveText)} id=${this.placeholderTextId??v}>${a.dateFormat.replace("{format}",(c=this.localeData)==null?void 0:c.placeholder)}</span></div><div .ariaHidden=${!this.open} .ariaLabel=${a.chooseDate} aria-live=polite aria-modal=true class=${l(f.menu)} id=${this.dialogId??v} role=dialog ${x(this.setFloatingEl)}><div class=${l({[f.calendarWrapper]:!0,[ye.animation]:!0,[ye.animationActive]:this.open})} ${x(this.setTransitionEl)}><calcite-date-picker .activeDate=${this.datePickerActiveDate} .activeRange=${this.focusedInput} .calendars=${this.calendars} .headingLevel=${this.headingLevel} .layout=${this.layout} .max=${this.max} .maxAsDate=${this.maxAsDate} .messageOverrides=${this.messageOverrides} .min=${this.min} .minAsDate=${this.minAsDate} .monthStyle=${this.monthStyle} .numberingSystem=${i} @calciteDatePickerChange=${this.handleDateChange} @calciteDatePickerRangeChange=${this.handleDateRangeChange} .proximitySelectionDisabled=${this.proximitySelectionDisabled} .range=${this.range} .scale=${this.scale} tabindex=${(this.open?void 0:-1)??v} .valueAsDate=${this.valueAsDate} ${x(this.setDatePickerRef)}></calcite-date-picker></div></div>${this.range&&d`<div class=${l(f.dividerContainer)}><div class=${l(f.divider)}></div></div>`||""}${this.range&&d`<div class=${l(f.inputWrapper)} data-position=${Ae.end} @click=${this.onInputWrapperClick} @pointerdown=${this.onInputWrapperPointerDown} ${x(this.setEndWrapper)}><calcite-input-text aria-controls=${this.dialogId??v} aria-autocomplete=none .ariaExpanded=${this.open} aria-haspopup=dialog class=${l({[f.input]:!0,[f.inputNoTopBorder]:this.layout==="vertical"&&this.range,[f.inputNoLeftBorder]:this.layout==="horizontal"&&this.range,[f.inputNoRightBorder]:this.layout==="vertical"&&this.range})} .disabled=${e} .icon=${E.calendar} .label=${this.messages.endDate} @calciteInputTextInput=${this.calciteInternalInputInputHandler} @calciteInternalInputTextBlur=${this.calciteInternalInputBlurHandler} @calciteInternalInputTextFocus=${this.endInputFocus} .placeholder=${(o=this.localeData)==null?void 0:o.placeholder} .readOnly=${n} role=combobox .scale=${this.scale} .status=${this.status} ${x(this.endInputRef)}></calcite-input-text>${!this.readOnly&&this.layout==="horizontal"&&this.renderToggleIcon(this.open)||""}</div>`||""}</div>${this.range&&this.layout==="vertical"&&d`<div class=${l(f.verticalChevronContainer)}><calcite-icon .icon=${this.open?E.chevronUp:E.chevronDown} .scale=${N(this.scale)}></calcite-icon></div>`||""}</div>${Te({component:this})}${this.validationMessage&&this.status==="invalid"?Ve({icon:this.validationIcon,id:L.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}renderToggleIcon(e){return d`<span class=${l(f.toggleIcon)} tabindex=-1><calcite-icon class=${l(f.chevronIcon)} .icon=${e?E.chevronUp:E.chevronDown} .scale=${N(this.scale)}></calcite-icon></span>`}};H.properties={datePickerActiveDate:[16,{},{state:!0}],focusedInput:[16,{},{state:!0}],localeData:[16,{},{state:!0}],calendars:[11,{},{type:Number,reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],headingLevel:[11,{},{type:Number,reflect:!0}],label:1,labelText:1,layout:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],maxAsDate:[0,{},{attribute:!1}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],minAsDate:[0,{},{attribute:!1}],monthStyle:1,name:[3,{},{reflect:!0}],numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],proximitySelectionDisabled:[5,{},{type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],validationIcon:[3,{converter:te},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1,valueAsDate:[0,{},{attribute:!1}]},H.shadowRootOptions={mode:"open",delegatesFocus:!0},H.styles=zt;let oe=H;P("calcite-input-date-picker",oe);export{oe as InputDatePicker};
