import{a as o}from"./WGLContainer-D6RjDQyD.js";import{n as p}from"./programUtils-CwiKxPbA.js";import{t as _}from"./Utils-PFgmSdQk.js";import{l3 as i,E as c,l4 as l,o as u,l5 as f,l6 as d}from"./index-CA3J3HgS.js";const m=s=>{let t="";t+=s[0].toUpperCase();for(let e=1;e<s.length;e++){const r=s[e];r===r.toUpperCase()?(t+="_",t+=r):t+=r.toUpperCase()}return t},x=s=>{const t={};for(const e in s)t[m(e)]=s[e];return p(t)},A=(s,t,e,r)=>{const n=s+s.slice(Math.max(0,s.lastIndexOf("/"))),h=t+t.slice(Math.max(0,t.lastIndexOf("/"))),a=x(r);return{attributes:e,shaders:{vertexShader:a+o(`${n}.vert`),fragmentShader:a+o(`${h}.frag`)}}};let O=class{constructor(t,e){this._rctx=t,this._attributes=[{name:"position",offset:0,type:i.SHORT,count:2}],this.layout={hash:_(this._attributes),attributes:this._attributes,stride:4},this._vertexBuffer=c.createVertex(t,l.STATIC_DRAW,new Uint16Array(e)),this._vao=new u(t,new Map([["a_position",0]]),new Map([["geometry",[new f("a_position",2,i.SHORT,0,4)]]]),new Map([["geometry",this._vertexBuffer]])),this._count=e.length/2}bind(){this._rctx.bindVAO(this._vao)}unbind(){this._rctx.bindVAO(null)}dispose(){this._vao.dispose()}draw(){this._rctx.bindVAO(this._vao),this._rctx.drawArrays(d.TRIANGLE_STRIP,0,this._count)}};export{O as n,A as o};
